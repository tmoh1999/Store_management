<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sale: {{sale.sale_id}} at {{sale.sale_date}}</title>
    <!-- Viewport for mobile scaling -->
   <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    
</head>
<body class="bg-light">



    <!-- Header -->
    <h2 class="fw-bold text-center text-primary mb-4">
        üõí Sale: {{sale.sale_id}} <br>
        <small class="text-muted">at {{sale.sale_date}}</small>
    </h2>

    <!-- Hidden sale_id -->
    <input id="sale_id" type="hidden" value="{{sale.sale_id}}">

    <!-- Search Section -->
    <div class="mb-4">
        <div class="input-group input-group-lg shadow-sm">
            <input id="search_q" type="text" class="form-control" placeholder="Name or Barcode">
            <button type="button" class="btn btn-outline-primary" onclick="openScanner()">üì∑ Scan</button>
        </div>
    </div>

    <!-- Total -->
    <div class="d-flex align-items-center justify-content-center  mb-4" style="background-color:lightgreen;">
        <h3 class="fw-bold text-success  mb-0" >Total:  </h3>
        <h3 id="total" class="fw-bold text-dark mb-0 ms-3" >0</h3>
    </div>

    <!-- Add Item Button -->
    <div class="d-grid mb-4">
        <button class="btn btn-primary btn-lg shadow" onclick="addsaleitems()">‚ûï Add Item</button>
    </div>

    <!-- Table -->
    <div class="table-responsive shadow-sm rounded bg-white mb-5">
        <table class="table table-bordered align-middle mb-0" id="sale_table">
            <thead class="table-primary">
                <tr>
                    <th>Name</th>
                    <th>Barcode</th>
                    <th>Description</th>
                    <th>Price</th>
                    <th>Quantity</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td></td>
                    <td></td>
                    <td><input id="product_description" placeholder="Description" class="form-control"></td>
                    <td><input id="product_price" placeholder="Price" type="number" class="form-control"></td>
                    <td><input id="product_quantity" placeholder="Qty" type="number" class="form-control" value="1"></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Save & Cancel Buttons -->
    <div class="d-flex justify-content-between">
    	
        <button type="button" class="btn btn-success btn-lg flex-fill me-2 shadow" onclick="SaveSale()">üíæ Save</button>
        <button type="button" class="btn btn-danger btn-lg flex-fill ms-2 shadow" onclick="CancelSale()">‚ùå Cancel</button>
</div>



<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Debug tool -->
<script src="https://cdn.jsdelivr.net/npm/eruda"></script>
<script>eruda.init();</script>

<!-- Custom JS -->
<script src="{{ url_for('static', filename='js/sale_items.js') }}"></script>

</body>
</html>